---
import SectionContainer from "@/components/sectionContainer.astro";
import Layout from "@/layouts/Layout.astro";
import ArrowBottom from "@/components/icons/arrowBottom.astro";
import frenquently_questions from "@/db/freq_questions";
import ToSectionArrow from "@/components/toSectionArrow.astro";
import MyArticle from "@/components/myArticle.astro";
---

<Layout
title="Help - Code Project"
description="Help page for Code Project"
>   
    <MyArticle>
        <SectionContainer class="flex flex-col items-center justify-center h-[80svh] text-main">
            <h1 class="flex flex-col text-center text-[3rem] leading-tight font-bold">
                <span class="text-xl font-medium opacity-65">
                    Bienvenido!
                </span>
                En que te podemos ayudar?
            </h1>
            <ToSectionArrow href="#faq" />
        </SectionContainer>
    </MyArticle>
    <MyArticle>
        <SectionContainer class="min-h-[35svh] md:min-h-[70svh] pb-20">
            <h2 class="text-3xl font-bold text-main pb-3">
                Preguntas frecuentes
            </h2>
            <ul class="flex flex-col gap-y-2 md:gap-y-6" id="faq">
                {
                    frenquently_questions.map((question) => (
                        <li>
                            <button
                            onclick="this.classList.toggle('open')"
                            class="flex flex-col justify-center text-start gap-x-1">
                                <div class="flex items-center gap-x-1 text-main text-xl font-semibold">
                                    <span class="md:-rotate-90 md:group-hover:rotate-0 transition-transform duration-300">
                                        <ArrowBottom />
                                    </span>
                                    <h3 class="text-yellow-100">
                                        {question.title}
                                    </h3>
                                </div>
                                <p class="pl-[34px] h-0 frenq-answer overflow-hidden text-pretty transition-all duration-300">
                                    {question.content}
                                </p>
                            </button>
                        </li>
                    ))
                }
            </ul>
        </SectionContainer>
    </MyArticle>
</Layout>

<style>
    .frenq-answer {
        interpolate-size: allow-keywords;
    }

    /* Cuando la clase está activa, el párrafo crece */
    .open p {
        height: auto; /* O el valor de altura que necesites */
        opacity: 1;
    }

    .open span {
        transform: rotate(180deg);
    }
</style>
