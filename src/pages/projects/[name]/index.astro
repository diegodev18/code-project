---
import Layout from "@/layouts/Layout.astro";
import Projects from "@/db/projects";
import SectionContainer from "@/components/sectionContainer.astro";
import MyArticle from "@/components/myArticle.astro";
import LenguagesGallery from "@/components/lenguagesGallery.astro";

const params = Astro.params; // http://localhost:4321/projects/your-own-git/c/introduction

const info = Projects.find(project => project.id === params.name);

if (!info) {
    return Astro.redirect('/404');
}
---

<Layout
title={`${info?.title ?? "Proyecto"} - CodeProject`}
description="This is a project page"
>
    <SectionContainer>
        <MyArticle class="flex flex-col-reverse gap-y-6 md:gap-y-0 md:gap-x-2 md:flex-row items-center justify-center md:justify-between min-h-[45vh] md:min-h-[50vh]">
            <div>
                <h1 class="text-3xl sm:text-4xl md:text-[3rem] leading-tight md:leading-[3.2rem] font-bold text-main mt-4">
                    {info.title}
                </h1>
                <p class="text-xl sm:text-2xl md:text-[1.8rem] opacity-75 font-medium mt-2 xl:mt-4">
                    {info.description}
                </p>
            </div>
            <info.icon.component width={info.icon.width + 40} height={info.icon.height + 40} />
        </MyArticle>
    </SectionContainer>
    <SectionContainer class="flex flex-col items-center justify-center min-h-[45vh] md:min-h-[38vh]">
        <h2 class="text-center text-3xl md:text-4xl font-bold text-main">
            Iniciar proyecto
        </h2>
        <LenguagesGallery id={info.id} lenguages={info.lenguages} />
    </SectionContainer>
</Layout>