---
import XLetterIcon from "@/components/icons/xLetterIcon.astro"


const enableOpts = [
    { name: 'Inicio', link: '/' },
    { name: 'Ayuda', link: '/help' },
    { name: 'Creado por', link: '/about' },
    { name: 'Perfil', link: '/profile' },
]

const location = Astro.url.pathname
---
<div
class="fixed inset-0 z-[999] h-[100dvh] w-screen px-5 pt-4 pb-10 bg-black/60 backdrop-blur-md"
id="mobile-menu"
>
    <div class="flex flex-col justify-between h-full">
        <aside>
            <button
            onclick="document.getElementById('mobile-menu').removeAttribute('open')"
            >
                <XLetterIcon />
            </button>
        </aside>
        <nav>
            <ul class="flex flex-col">
                {
                    enableOpts.map((opt) => (
                        <li class="text-4xl font-bold py-2">
                            <a
                            href={opt.link}
                            class={location === opt.link ? 'text-yellow-300' : 'opacity-65 text-white'}
                            >
                                {opt.name}
                            </a>
                        </li>
                    ))
                }
                <li class="h-20 bg-[#1E1E1E] mt-5 rounded-md">
                    <a
                    class="flex items-center w-full h-full"
                    target="_blank"
                    href="https://www.paypal.com/paypalme/DiegoDev018">
                        <p class="px-4 text-center text-xl font-bold text-yellow-200 animate-pulse">
                            Contribuir monetariamente por PayPal
                        </p>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>

<style>
    #mobile-menu[open] {
        display: block;
        opacity: 1;
        transition: opacity 0.3s;
        
        @starting-style {
            opacity: 0;
        }
    }
    #mobile-menu {
        display: none;
        transition: opacity 0.3s, display 0.3s allow-discrete;
        opacity: 0;
    }
</style>